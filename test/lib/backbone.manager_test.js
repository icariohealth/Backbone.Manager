var expect;

expect = chai.expect;

beforeEach(function() {
  return this.sinon = sinon.sandbox.create();
});

afterEach(function() {
  return this.sinon.restore();
});

describe('Backbone.Manager', function() {
  beforeEach(function() {
    return this.router = new Backbone.Router();
  });
  afterEach(function() {
    return delete this.router;
  });
  describe('constructor', function() {
    return it('should call initialize', function() {
      var initSpy;
      initSpy = this.sinon.spy(Backbone.Manager.prototype, 'initialize');
      new Backbone.Manager(this.router);
      return expect(initSpy).to.have.been.called;
    });
  });
  describe('_parseStates()', function() {
    it("should throw error if transitionMethod for a state isn't defined", function() {
      var manager;
      manager = Backbone.Manager.extend({
        states: {
          test: {}
        }
      });
      return expect(function() {
        return new manager(this.router);
      }).to["throw"](/transitionMethod/);
    });
    it('should listen for event related to state', function() {
      var cachedListenTo, listenToStub;
      cachedListenTo = Backbone.Events.listenTo;
      listenToStub = this.sinon.stub(Backbone.Events, 'listenTo', function() {
        return cachedListenTo.apply(this, arguments);
      });
      new (Backbone.Manager.extend({
        states: {
          test: {
            transitionMethod: 'a',
            url: 'a/:a_id/b/:b_id'
          }
        }
      }))(this.router);
      return expect(listenToStub).to.have.been.calledWith(sinon.match.any, 'test', sinon.match.any);
    });
    return context('state url defined', function() {
      it('should throw error if url is regex', function() {
        var manager;
        manager = Backbone.Manager.extend({
          states: {
            test: {
              transitionMethod: 'a',
              url: /^(.*?)\/open$/
            }
          }
        });
        return expect(function() {
          return new manager(this.router);
        }).to["throw"](/not allowed to have a RegExp url/);
      });
      it('should store the correct url params', function() {
        var manager;
        manager = new (Backbone.Manager.extend({
          states: {
            test: {
              transitionMethod: 'a',
              url: 'a/:a_id/b/:b_id'
            }
          }
        }))(this.router);
        return expect(manager.states.test._urlParams).to.have.members(['a_id', 'b_id']);
      });
      it('should build a url template able to replace params from object', function() {
        var manager, obj;
        manager = new (Backbone.Manager.extend({
          states: {
            test: {
              transitionMethod: 'a',
              url: 'a/:a_id/b/:b_id'
            }
          }
        }))(this.router);
        obj = {
          a_id: 1,
          b_id: 2
        };
        return expect(manager.states.test._urlAsTemplate(obj)).to.equal('a/1/b/2');
      });
      it('should set regex from url, built same as router', function() {
        var manager;
        manager = new (Backbone.Manager.extend({
          states: {
            test: {
              transitionMethod: 'a',
              url: 'a/:a_id/b/:b_id'
            }
          }
        }))(this.router);
        return expect(manager.states.test._urlAsRegex + '').to.equal(this.router._routeToRegExp(manager.states.test.url) + '');
      });
      return it('should register regex url inside router', function() {
        var manager, routeSpy;
        routeSpy = this.sinon.spy(this.router, 'route');
        manager = new (Backbone.Manager.extend({
          states: {
            test: {
              transitionMethod: 'a',
              url: 'a/:a_id/b/:b_id'
            }
          }
        }))(this.router);
        return expect(routeSpy).to.have.been.calledWith(manager.states.test._urlAsRegex);
      });
    });
  });
  describe('_routeCallbackChooser()', function() {
    it('should not call loadCallback if pageload url is different from current url', function() {
      var loadCallbackStub, manager;
      manager = new (Backbone.Manager.extend({
        _getWindowHref: function() {
          return 'http://a.b';
        }
      }))(this.router);
      loadCallbackStub = this.sinon.stub(manager, '_handleLoadCallback');
      this.sinon.stub(manager, '_handleTransitionCallback');
      manager._routeCallbackChooser('', {}, false);
      return expect(loadCallbackStub).to.not.have.been.called;
    });
    it('should call transitionCallback if pageload url is different from current url', function() {
      var manager, transitionCallbackStub;
      manager = new (Backbone.Manager.extend({
        _getWindowHref: function() {
          return 'http://a.b';
        }
      }))(this.router);
      transitionCallbackStub = this.sinon.stub(manager, '_handleTransitionCallback');
      manager._routeCallbackChooser('', {}, false);
      return expect(transitionCallbackStub).to.have.been.called;
    });
    return it('should call loadCallback if pageload url is current url, but only once', function() {
      var loadCallbackStub, manager;
      manager = new Backbone.Manager(this.router);
      loadCallbackStub = this.sinon.stub(manager, '_handleLoadCallback');
      this.sinon.stub(manager, '_handleTransitionCallback');
      manager._routeCallbackChooser();
      manager._routeCallbackChooser();
      return expect(loadCallbackStub).to.have.been.calledOnce;
    });
  });
  describe('_handleLoadCallback()', function() {
    it("should throw error if loadMethod for a state isn't defined", function() {
      var manager;
      manager = new Backbone.Manager(this.router);
      return expect(function() {
        return manager._handleLoadCallback();
      }).to["throw"](/loadMethod/);
    });
    it('should trigger generic and specific pre-events in that order', function() {
      var manager, triggerSpy;
      manager = new (Backbone.Manager.extend({
        test: function() {}
      }))(this.router);
      triggerSpy = this.sinon.spy(manager, 'trigger');
      triggerSpy.withArgs('pre-load');
      triggerSpy.withArgs('pre-load:testState');
      manager._handleLoadCallback('testState', {
        loadMethod: 'test'
      });
      return expect(triggerSpy.withArgs('pre-load:testState')).to.have.been.calledAfter(triggerSpy.withArgs('pre-load'));
    });
    it('should trigger pre-event before callback', function() {
      var callbackSpy, manager, triggerSpy;
      manager = new (Backbone.Manager.extend({
        test: function() {}
      }))(this.router);
      triggerSpy = this.sinon.spy(manager, 'trigger').withArgs('pre-load');
      callbackSpy = this.sinon.spy(manager, 'test');
      manager._handleLoadCallback('testState', {
        loadMethod: 'test'
      });
      return expect(triggerSpy).to.have.been.calledBefore(callbackSpy);
    });
    it('should trigger specific and generic post-events in that order', function() {
      var manager, triggerSpy;
      manager = new (Backbone.Manager.extend({
        test: function() {}
      }))(this.router);
      triggerSpy = this.sinon.spy(manager, 'trigger');
      triggerSpy.withArgs('post-load');
      triggerSpy.withArgs('post-load:testState');
      manager._handleLoadCallback('testState', {
        loadMethod: 'test'
      });
      return expect(triggerSpy.withArgs('post-load:testState')).to.have.been.calledBefore(triggerSpy.withArgs('post-load'));
    });
    return it('should trigger post-event after callback', function() {
      var callbackSpy, manager, triggerSpy;
      manager = new (Backbone.Manager.extend({
        test: function() {}
      }))(this.router);
      triggerSpy = this.sinon.spy(manager, 'trigger').withArgs('post-load');
      callbackSpy = this.sinon.spy(manager, 'test');
      manager._handleLoadCallback('testState', {
        loadMethod: 'test'
      });
      return expect(triggerSpy).to.have.been.calledAfter(callbackSpy);
    });
  });
  describe('_handleTransitionCallback()', function() {
    it('should trigger generic and specific pre-events in that order', function() {
      var manager, triggerSpy;
      manager = new (Backbone.Manager.extend({
        test: function() {}
      }))(this.router);
      triggerSpy = this.sinon.spy(manager, 'trigger');
      triggerSpy.withArgs('pre-transition');
      triggerSpy.withArgs('pre-transition:testState');
      manager._handleTransitionCallback('testState', {
        transitionMethod: 'test'
      });
      return expect(triggerSpy.withArgs('pre-transition:testState')).to.have.been.calledAfter(triggerSpy.withArgs('pre-transition'));
    });
    it('should trigger pre-event before callback', function() {
      var callbackSpy, manager, triggerSpy;
      manager = new (Backbone.Manager.extend({
        test: function() {}
      }))(this.router);
      triggerSpy = this.sinon.spy(manager, 'trigger').withArgs('pre-transition');
      callbackSpy = this.sinon.spy(manager, 'test');
      manager._handleTransitionCallback('testState', {
        transitionMethod: 'test'
      });
      return expect(triggerSpy).to.have.been.calledBefore(callbackSpy);
    });
    it('should trigger specific and generic post-events in that order', function() {
      var manager, triggerSpy;
      manager = new (Backbone.Manager.extend({
        test: function() {}
      }))(this.router);
      triggerSpy = this.sinon.spy(manager, 'trigger');
      triggerSpy.withArgs('post-transition');
      triggerSpy.withArgs('post-transition:testState');
      manager._handleTransitionCallback('testState', {
        transitionMethod: 'test'
      });
      return expect(triggerSpy.withArgs('post-transition:testState')).to.have.been.calledBefore(triggerSpy.withArgs('post-transition'));
    });
    it('should trigger post-event after callback', function() {
      var callbackSpy, manager, triggerSpy;
      manager = new (Backbone.Manager.extend({
        test: function() {}
      }))(this.router);
      triggerSpy = this.sinon.spy(manager, 'trigger').withArgs('post-transition');
      callbackSpy = this.sinon.spy(manager, 'test');
      manager._handleTransitionCallback('testState', {
        transitionMethod: 'test'
      });
      return expect(triggerSpy).to.have.been.calledAfter(callbackSpy);
    });
    return context('state url defined', function() {
      before(function() {
        return this.managerProto = Backbone.Manager.extend({
          states: {
            test: {
              url: 'a/:id_1/b/:id_2/c/:id_3/d/:id_4',
              transitionMethod: 'test'
            }
          },
          test: function() {}
        });
      });
      context('args is Array', function() {
        it('should maintain order from array into url', function() {
          var manager, navigateStub;
          manager = new this.managerProto(this.router);
          navigateStub = this.sinon.stub(this.router, 'navigate');
          manager._handleTransitionCallback('test', manager.states.test, [1, 2, 3, 4]);
          return expect(navigateStub).to.have.been.calledWith('a/1/b/2/c/3/d/4');
        });
        it('should not fire navigate if historyHasUpdated', function() {
          var historyHasUpdated, manager, navigateStub;
          manager = new this.managerProto(this.router);
          navigateStub = this.sinon.stub(this.router, 'navigate');
          manager._handleTransitionCallback('test', manager.states.test, [1, 2, 3, 4], historyHasUpdated = true);
          return expect(navigateStub).to.not.have.been.called;
        });
        return it('should hand correct args to callback in order, mimicking router params callback', function() {
          var callbackSpy, manager;
          manager = new this.managerProto(this.router);
          callbackSpy = this.sinon.spy(manager, 'test');
          manager._handleTransitionCallback('test', manager.states.test, [1, 2, 3, 4]);
          return expect(callbackSpy).to.have.been.calledWithExactly('1', '2', '3', '4', null, sinon.match.object);
        });
      });
      return context('args is Object', function() {
        before(function() {
          return this.argObj = {
            id_2: 2,
            id_4: 4,
            id_1: 1,
            id_3: 3
          };
        });
        it('should maintain order from args in url', function() {
          var manager, navigateStub;
          manager = new this.managerProto(this.router);
          navigateStub = this.sinon.stub(this.router, 'navigate');
          manager._handleTransitionCallback('test', manager.states.test, this.argObj);
          return expect(navigateStub).to.have.been.calledWith('a/1/b/2/c/3/d/4');
        });
        it('should maintain order from args in url', function() {
          var historyHasUpdated, manager, navigateStub;
          manager = new this.managerProto(this.router);
          navigateStub = this.sinon.stub(this.router, 'navigate');
          manager._handleTransitionCallback('test', manager.states.test, this.argObj, historyHasUpdated = true);
          return expect(navigateStub).to.not.have.been.called;
        });
        return it('should hand correct args to callback in order', function() {
          var callbackSpy, manager;
          manager = new this.managerProto(this.router);
          callbackSpy = this.sinon.spy(manager, 'test');
          manager._handleTransitionCallback('test', manager.states.test, this.argObj);
          return expect(callbackSpy).to.have.been.calledWith('1', '2', '3', '4', null, sinon.match.object);
        });
      });
    });
  });
  return describe('_parseEvents()', function() {
    return it('should bind to key as event, value as callback', function() {
      var cachedOn, manager, onStub;
      cachedOn = Backbone.Events.on;
      onStub = this.sinon.stub(Backbone.Events, 'on', function() {
        return cachedOn.apply(this, arguments);
      });
      manager = new (Backbone.Manager.extend({
        events: {
          testEvent: 'testFunc'
        },
        testFunc: function() {}
      }))(this.router);
      return expect(onStub).to.have.been.calledWith('testEvent', manager.testFunc);
    });
  });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJhY2tib25lLm1hbmFnZXJfdGVzdC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsSUFBQSxNQUFBOztBQUFBLE1BQUEsR0FBUyxJQUFJLENBQUMsTUFBZCxDQUFBOztBQUFBLFVBR0EsQ0FBVyxTQUFBLEdBQUE7U0FDVCxJQUFDLENBQUEsS0FBRCxHQUFTLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBZCxDQUFBLEVBREE7QUFBQSxDQUFYLENBSEEsQ0FBQTs7QUFBQSxTQUtBLENBQVUsU0FBQSxHQUFBO1NBQ1IsSUFBQyxDQUFBLEtBQUssQ0FBQyxPQUFQLENBQUEsRUFEUTtBQUFBLENBQVYsQ0FMQSxDQUFBOztBQUFBLFFBUUEsQ0FBUyxrQkFBVCxFQUE2QixTQUFBLEdBQUE7QUFDM0IsRUFBQSxVQUFBLENBQVcsU0FBQSxHQUFBO1dBQ1QsSUFBQyxDQUFBLE1BQUQsR0FBYyxJQUFBLFFBQVEsQ0FBQyxNQUFULENBQUEsRUFETDtFQUFBLENBQVgsQ0FBQSxDQUFBO0FBQUEsRUFFQSxTQUFBLENBQVUsU0FBQSxHQUFBO1dBQ1IsTUFBQSxDQUFBLElBQVEsQ0FBQSxPQURBO0VBQUEsQ0FBVixDQUZBLENBQUE7QUFBQSxFQUtBLFFBQUEsQ0FBUyxhQUFULEVBQXdCLFNBQUEsR0FBQTtXQUN0QixFQUFBLENBQUcsd0JBQUgsRUFBNkIsU0FBQSxHQUFBO0FBQzNCLFVBQUEsT0FBQTtBQUFBLE1BQUEsT0FBQSxHQUFVLElBQUMsQ0FBQSxLQUFLLENBQUMsR0FBUCxDQUFXLFFBQVEsQ0FBQyxPQUFPLENBQUMsU0FBNUIsRUFBdUMsWUFBdkMsQ0FBVixDQUFBO0FBQUEsTUFFSSxJQUFBLFFBQVEsQ0FBQyxPQUFULENBQWlCLElBQUMsQ0FBQSxNQUFsQixDQUZKLENBQUE7YUFJQSxNQUFBLENBQU8sT0FBUCxDQUFlLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FMRjtJQUFBLENBQTdCLEVBRHNCO0VBQUEsQ0FBeEIsQ0FMQSxD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QXFELFNBQUEsR0FBQTtBQUNuRCxVQUFBLHlCQUFBO0FBQUEsTUFBQSxRQUFBLEdBQVcsUUFBUSxDQUFDLE1BQU0sQ0FBQyxFQUEzQixDQUFBO0FBQUEsTUFDQSxNQUFBLEdBQVMsSUFBQyxDQUFBLEtBQUssQ0FBQyxJQUFQLENBQVksUUFBUSxDQUFDLE1BQXJCLEVBQTZCLElBQTdCLEVBQW1DLFNBQUEsR0FBQTtlQUMxQyxRQUFRLENBQUMsS0FBVCxDQUFlLElBQWYsRUFBa0IsU0FBbEIsRUFEMEM7TUFBQSxDQUFuQyxDQURULENBQUE7QUFBQSxNQUlBLE9BQUEsR0FBYyxJQUFBLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxNQUFqQixDQUNiO0FBQUEsUUFBQSxNQUFBLEVBQ0U7QUFBQSxVQUFBLFNBQUEsRUFBVyxVQUFYO1NBREY7QUFBQSxRQUVBLFFBQUEsRUFBVSxTQUFBLEdBQUEsQ0FGVjtPQURhLENBQUQsQ0FBQSxDQUlaLElBQUMsQ0FBQSxNQUpXLENBSmQsQ0FBQTthQVVBLE1BQUEsQ0FBTyxNQUFQLENBQWMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUE1QixDQUF1QyxXQUF2QyxFQUFvRCxPQUFPLENBQUMsUUFBNUQsRUFYbUQ7SUFBQSxDQUFyRCxFQUR5QjtFQUFBLENBQTNCLEVBbFQyQjtBQUFBLENBQTdCLENBUkEsQ0FBQSIsImZpbGUiOiJiYWNrYm9uZS5tYW5hZ2VyX3Rlc3QuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyJleHBlY3QgPSBjaGFpLmV4cGVjdFxuXG4jIEtlZXAgJ0BzaW5vbicgc2FuZGJveGVkIHRvIGV2ZXJ5IHRlc3QsIHVzZSAnc2lub24nIHRvIGJ5cGFzc1xuYmVmb3JlRWFjaCAtPlxuICBAc2lub24gPSBzaW5vbi5zYW5kYm94LmNyZWF0ZSgpXG5hZnRlckVhY2ggLT5cbiAgQHNpbm9uLnJlc3RvcmUoKVxuXG5kZXNjcmliZSAnQmFja2JvbmUuTWFuYWdlcicsIC0+XG4gIGJlZm9yZUVhY2ggLT5cbiAgICBAcm91dGVyID0gbmV3IEJhY2tib25lLlJvdXRlcigpXG4gIGFmdGVyRWFjaCAtPlxuICAgIGRlbGV0ZSBAcm91dGVyXG5cbiAgZGVzY3JpYmUgJ2NvbnN0cnVjdG9yJywgLT5cbiAgICBpdCAnc2hvdWxkIGNhbGwgaW5pdGlhbGl6ZScsIC0+XG4gICAgICBpbml0U3B5ID0gQHNpbm9uLnNweSBCYWNrYm9uZS5NYW5hZ2VyLnByb3RvdHlwZSwgJ2luaXRpYWxpemUnXG5cbiAgICAgIG5ldyBCYWNrYm9uZS5NYW5hZ2VyIEByb3V0ZXJcblxuICAgICAgZXhwZWN0KGluaXRTcHkpLnRvLmhhdmUuYmVlbi5jYWxsZWRcblxuICBkZXNjcmliZSAnX3BhcnNlU3RhdGVzKCknLCAtPlxuICAgIGl0IFwic2hvdWxkIHRocm93IGVycm9yIGlmIHRyYW5zaXRpb25NZXRob2QgZm9yIGEgc3RhdGUgaXNuJ3QgZGVmaW5lZFwiLCAtPlxuICAgICAgbWFuYWdlciA9IEJhY2tib25lLk1hbmFnZXIuZXh0ZW5kXG4gICAgICAgIHN0YXRlczpcbiAgICAgICAgICB0ZXN0OiB7fVxuXG4gICAgICBleHBlY3QoLT4gbmV3IG1hbmFnZXIgQHJvdXRlcikudG8udGhyb3cgL3RyYW5zaXRpb25NZXRob2QvXG5cbiAgICBpdCAnc2hvdWxkIGxpc3RlbiBmb3IgZXZlbnQgcmVsYXRlZCB0byBzdGF0ZScsIC0+XG4gICAgICBjYWNoZWRMaXN0ZW5UbyA9IEJhY2tib25lLkV2ZW50cy5saXN0ZW5Ub1xuICAgICAgbGlzdGVuVG9TdHViID0gQHNpbm9uLnN0dWIgQmFja2JvbmUuRXZlbnRzLCAnbGlzdGVuVG8nLCAtPlxuICAgICAgICBjYWNoZWRMaXN0ZW5Uby5hcHBseSBALCBhcmd1bWVudHNcblxuICAgICAgbmV3IChCYWNrYm9uZS5NYW5hZ2VyLmV4dGVuZFxuICAgICAgICBzdGF0ZXM6XG4gICAgICAgICAgdGVzdDpcbiAgICAgICAgICAgIHRyYW5zaXRpb25NZXRob2Q6ICdhJ1xuICAgICAgICAgICAgdXJsOiAnYS86YV9pZC9iLzpiX2lkJ1xuICAgICAgKShAcm91dGVyKVxuXG4gICAgICBleHBlY3QobGlzdGVuVG9TdHViKS50by5oYXZlLmJlZW4uY2FsbGVkV2l0aCBzaW5vbi5tYXRjaC5hbnksICd0ZXN0Jywgc2lub24ubWF0Y2guYW55XG5cbiAgICBjb250ZXh0ICdzdGF0ZSB1cmwgZGVmaW5lZCcsIC0+XG4gICAgICBpdCAnc2hvdWxkIHRocm93IGVycm9yIGlmIHVybCBpcyByZWdleCcsIC0+XG4gICAgICAgIG1hbmFnZXIgPSBCYWNrYm9uZS5NYW5hZ2VyLmV4dGVuZFxuICAgICAgICAgIHN0YXRlczpcbiAgICAgICAgICAgIHRlc3Q6XG4gICAgICAgICAgICAgIHRyYW5zaXRpb25NZXRob2Q6ICdhJ1xuICAgICAgICAgICAgICB1cmw6IC9eKC4qPylcXC9vcGVuJC9cblxuICAgICAgICBleHBlY3QoLT4gbmV3IG1hbmFnZXIgQHJvdXRlcikudG8udGhyb3cgL25vdCBhbGxvd2VkIHRvIGhhdmUgYSBSZWdFeHAgdXJsL1xuXG4gICAgICBpdCAnc2hvdWxkIHN0b3JlIHRoZSBjb3JyZWN0IHVybCBwYXJhbXMnLCAtPlxuICAgICAgICBtYW5hZ2VyID0gbmV3IChCYWNrYm9uZS5NYW5hZ2VyLmV4dGVuZFxuICAgICAgICAgIHN0YXRlczpcbiAgICAgICAgICAgIHRlc3Q6XG4gICAgICAgICAgICAgIHRyYW5zaXRpb25NZXRob2Q6ICdhJ1xuICAgICAgICAgICAgICB1cmw6ICdhLzphX2lkL2IvOmJfaWQnXG4gICAgICAgICkoQHJvdXRlcilcblxuICAgICAgICBleHBlY3QobWFuYWdlci5zdGF0ZXMudGVzdC5fdXJsUGFyYW1zKS50by5oYXZlLm1lbWJlcnMgWydhX2lkJywnYl9pZCddXG5cbiAgICAgIGl0ICdzaG91bGQgYnVpbGQgYSB1cmwgdGVtcGxhdGUgYWJsZSB0byByZXBsYWNlIHBhcmFtcyBmcm9tIG9iamVjdCcsIC0+XG4gICAgICAgIG1hbmFnZXIgPSBuZXcgKEJhY2tib25lLk1hbmFnZXIuZXh0ZW5kXG4gICAgICAgICAgc3RhdGVzOlxuICAgICAgICAgICAgdGVzdDpcbiAgICAgICAgICAgICAgdHJhbnNpdGlvbk1ldGhvZDogJ2EnXG4gICAgICAgICAgICAgIHVybDogJ2EvOmFfaWQvYi86Yl9pZCdcbiAgICAgICAgKShAcm91dGVyKVxuXG4gICAgICAgIG9iaiA9XG4gICAgICAgICAgYV9pZDogMVxuICAgICAgICAgIGJfaWQ6IDJcblxuICAgICAgICBleHBlY3QobWFuYWdlci5zdGF0ZXMudGVzdC5fdXJsQXNUZW1wbGF0ZShvYmopKS50by5lcXVhbCAnYS8xL2IvMidcblxuICAgICAgaXQgJ3Nob3VsZCBzZXQgcmVnZXggZnJvbSB1cmwsIGJ1aWx0IHNhbWUgYXMgcm91dGVyJywgLT5cbiAgICAgICAgbWFuYWdlciA9IG5ldyAoQmFja2JvbmUuTWFuYWdlci5leHRlbmRcbiAgICAgICAgICBzdGF0ZXM6XG4gICAgICAgICAgICB0ZXN0OlxuICAgICAgICAgICAgICB0cmFuc2l0aW9uTWV0aG9kOiAnYSdcbiAgICAgICAgICAgICAgdXJsOiAnYS86YV9pZC9iLzpiX2lkJ1xuICAgICAgICApKEByb3V0ZXIpXG5cbiAgICAgICAgZXhwZWN0KG1hbmFnZXIuc3RhdGVzLnRlc3QuX3VybEFzUmVnZXgrJycpLnRvLmVxdWFsIEByb3V0ZXIuX3JvdXRlVG9SZWdFeHAobWFuYWdlci5zdGF0ZXMudGVzdC51cmwpKycnXG5cbiAgICAgIGl0ICdzaG91bGQgcmVnaXN0ZXIgcmVnZXggdXJsIGluc2lkZSByb3V0ZXInLCAtPlxuICAgICAgICByb3V0ZVNweSA9IEBzaW5vbi5zcHkgQHJvdXRlciwgJ3JvdXRlJ1xuXG4gICAgICAgIG1hbmFnZXIgPSBuZXcgKEJhY2tib25lLk1hbmFnZXIuZXh0ZW5kXG4gICAgICAgICAgc3RhdGVzOlxuICAgICAgICAgICAgdGVzdDpcbiAgICAgICAgICAgICAgdHJhbnNpdGlvbk1ldGhvZDogJ2EnXG4gICAgICAgICAgICAgIHVybDogJ2EvOmFfaWQvYi86Yl9pZCdcbiAgICAgICAgKShAcm91dGVyKVxuXG4gICAgICAgIGV4cGVjdChyb3V0ZVNweSkudG8uaGF2ZS5iZWVuLmNhbGxlZFdpdGggbWFuYWdlci5zdGF0ZXMudGVzdC5fdXJsQXNSZWdleFxuXG4gIGRlc2NyaWJlICdfcm91dGVDYWxsYmFja0Nob29zZXIoKScsIC0+XG4gICAgaXQgJ3Nob3VsZCBub3QgY2FsbCBsb2FkQ2FsbGJhY2sgaWYgcGFnZWxvYWQgdXJsIGlzIGRpZmZlcmVudCBmcm9tIGN1cnJlbnQgdXJsJywgLT5cbiAgICAgIG1hbmFnZXIgPSBuZXcgKEJhY2tib25lLk1hbmFnZXIuZXh0ZW5kXG4gICAgICAgIF9nZXRXaW5kb3dIcmVmOiAtPiAnaHR0cDovL2EuYidcbiAgICAgICkoQHJvdXRlcilcblxuICAgICAgbG9hZENhbGxiYWNrU3R1YiA9IEBzaW5vbi5zdHViIG1hbmFnZXIsICdfaGFuZGxlTG9hZENhbGxiYWNrJ1xuICAgICAgQHNpbm9uLnN0dWIgbWFuYWdlciwgJ19oYW5kbGVUcmFuc2l0aW9uQ2FsbGJhY2snXG5cbiAgICAgIG1hbmFnZXIuX3JvdXRlQ2FsbGJhY2tDaG9vc2VyICcnLCB7fSwgZmFsc2VcblxuICAgICAgZXhwZWN0KGxvYWRDYWxsYmFja1N0dWIpLnRvLm5vdC5oYXZlLmJlZW4uY2FsbGVkXG5cbiAgICBpdCAnc2hvdWxkIGNhbGwgdHJhbnNpdGlvbkNhbGxiYWNrIGlmIHBhZ2Vsb2FkIHVybCBpcyBkaWZmZXJlbnQgZnJvbSBjdXJyZW50IHVybCcsIC0+XG4gICAgICBtYW5hZ2VyID0gbmV3IChCYWNrYm9uZS5NYW5hZ2VyLmV4dGVuZFxuICAgICAgICBfZ2V0V2luZG93SHJlZjogLT4gJ2h0dHA6Ly9hLmInXG4gICAgICApKEByb3V0ZXIpXG5cbiAgICAgIHRyYW5zaXRpb25DYWxsYmFja1N0dWIgPSBAc2lub24uc3R1YiBtYW5hZ2VyLCAnX2hhbmRsZVRyYW5zaXRpb25DYWxsYmFjaydcblxuICAgICAgbWFuYWdlci5fcm91dGVDYWxsYmFja0Nob29zZXIgJycsIHt9LCBmYWxzZVxuXG4gICAgICBleHBlY3QodHJhbnNpdGlvbkNhbGxiYWNrU3R1YikudG8uaGF2ZS5iZWVuLmNhbGxlZFxuXG4gICAgaXQgJ3Nob3VsZCBjYWxsIGxvYWRDYWxsYmFjayBpZiBwYWdlbG9hZCB1cmwgaXMgY3VycmVudCB1cmwsIGJ1dCBvbmx5IG9uY2UnLCAtPlxuICAgICAgbWFuYWdlciA9IG5ldyBCYWNrYm9uZS5NYW5hZ2VyIEByb3V0ZXJcblxuICAgICAgbG9hZENhbGxiYWNrU3R1YiA9IEBzaW5vbi5zdHViIG1hbmFnZXIsICdfaGFuZGxlTG9hZENhbGxiYWNrJ1xuICAgICAgQHNpbm9uLnN0dWIgbWFuYWdlciwgJ19oYW5kbGVUcmFuc2l0aW9uQ2FsbGJhY2snXG5cbiAgICAgIG1hbmFnZXIuX3JvdXRlQ2FsbGJhY2tDaG9vc2VyKClcbiAgICAgIG1hbmFnZXIuX3JvdXRlQ2FsbGJhY2tDaG9vc2VyKClcblxuICAgICAgZXhwZWN0KGxvYWRDYWxsYmFja1N0dWIpLnRvLmhhdmUuYmVlbi5jYWxsZWRPbmNlXG5cbiAgZGVzY3JpYmUgJ19oYW5kbGVMb2FkQ2FsbGJhY2soKScsIC0+XG4gICAgaXQgXCJzaG91bGQgdGhyb3cgZXJyb3IgaWYgbG9hZE1ldGhvZCBmb3IgYSBzdGF0ZSBpc24ndCBkZWZpbmVkXCIsIC0+XG4gICAgICBtYW5hZ2VyID0gbmV3IEJhY2tib25lLk1hbmFnZXIgQHJvdXRlclxuXG4gICAgICBleHBlY3QoLT4gbWFuYWdlci5faGFuZGxlTG9hZENhbGxiYWNrKCkpLnRvLnRocm93IC9sb2FkTWV0aG9kL1xuXG4gICAgaXQgJ3Nob3VsZCB0cmlnZ2VyIGdlbmVyaWMgYW5kIHNwZWNpZmljIHByZS1ldmVudHMgaW4gdGhhdCBvcmRlcicsIC0+XG4gICAgICBtYW5hZ2VyID0gbmV3IChCYWNrYm9uZS5NYW5hZ2VyLmV4dGVuZFxuICAgICAgICB0ZXN0OiAtPlxuICAgICAgKShAcm91dGVyKVxuXG4gICAgICB0cmlnZ2VyU3B5ID0gQHNpbm9uLnNweShtYW5hZ2VyLCAndHJpZ2dlcicpXG4gICAgICB0cmlnZ2VyU3B5LndpdGhBcmdzICdwcmUtbG9hZCdcbiAgICAgIHRyaWdnZXJTcHkud2l0aEFyZ3MgJ3ByZS1sb2FkOnRlc3RTdGF0ZSdcblxuICAgICAgbWFuYWdlci5faGFuZGxlTG9hZENhbGxiYWNrKCd0ZXN0U3RhdGUnLCB7bG9hZE1ldGhvZDogJ3Rlc3QnfSlcblxuICAgICAgZXhwZWN0KHRyaWdnZXJTcHkud2l0aEFyZ3MgJ3ByZS1sb2FkOnRlc3RTdGF0ZScpLnRvLmhhdmUuYmVlbi5jYWxsZWRBZnRlciB0cmlnZ2VyU3B5LndpdGhBcmdzICdwcmUtbG9hZCdcblxuICAgIGl0ICdzaG91bGQgdHJpZ2dlciBwcmUtZXZlbnQgYmVmb3JlIGNhbGxiYWNrJywgLT5cbiAgICAgIG1hbmFnZXIgPSBuZXcgKEJhY2tib25lLk1hbmFnZXIuZXh0ZW5kXG4gICAgICAgIHRlc3Q6IC0+XG4gICAgICApKEByb3V0ZXIpXG5cbiAgICAgIHRyaWdnZXJTcHkgPSBAc2lub24uc3B5KG1hbmFnZXIsICd0cmlnZ2VyJykud2l0aEFyZ3MgJ3ByZS1sb2FkJ1xuICAgICAgY2FsbGJhY2tTcHkgPSBAc2lub24uc3B5IG1hbmFnZXIsICd0ZXN0J1xuXG4gICAgICBtYW5hZ2VyLl9oYW5kbGVMb2FkQ2FsbGJhY2soJ3Rlc3RTdGF0ZScsIHtsb2FkTWV0aG9kOiAndGVzdCd9KVxuXG4gICAgICBleHBlY3QodHJpZ2dlclNweSkudG8uaGF2ZS5iZWVuLmNhbGxlZEJlZm9yZSBjYWxsYmFja1NweVxuXG4gICAgaXQgJ3Nob3VsZCB0cmlnZ2VyIHNwZWNpZmljIGFuZCBnZW5lcmljIHBvc3QtZXZlbnRzIGluIHRoYXQgb3JkZXInLCAtPlxuICAgICAgbWFuYWdlciA9IG5ldyAoQmFja2JvbmUuTWFuYWdlci5leHRlbmRcbiAgICAgICAgdGVzdDogLT5cbiAgICAgICkoQHJvdXRlcilcblxuICAgICAgdHJpZ2dlclNweSA9IEBzaW5vbi5zcHkobWFuYWdlciwgJ3RyaWdnZXInKVxuICAgICAgdHJpZ2dlclNweS53aXRoQXJncyAncG9zdC1sb2FkJ1xuICAgICAgdHJpZ2dlclNweS53aXRoQXJncyAncG9zdC1sb2FkOnRlc3RTdGF0ZSdcblxuICAgICAgbWFuYWdlci5faGFuZGxlTG9hZENhbGxiYWNrKCd0ZXN0U3RhdGUnLCB7bG9hZE1ldGhvZDogJ3Rlc3QnfSlcblxuICAgICAgZXhwZWN0KHRyaWdnZXJTcHkud2l0aEFyZ3MgJ3Bvc3QtbG9hZDp0ZXN0U3RhdGUnKS50by5oYXZlLmJlZW4uY2FsbGVkQmVmb3JlIHRyaWdnZXJTcHkud2l0aEFyZ3MgJ3Bvc3QtbG9hZCdcblxuICAgIGl0ICdzaG91bGQgdHJpZ2dlciBwb3N0LWV2ZW50IGFmdGVyIGNhbGxiYWNrJywgLT5cbiAgICAgIG1hbmFnZXIgPSBuZXcgKEJhY2tib25lLk1hbmFnZXIuZXh0ZW5kXG4gICAgICAgIHRlc3Q6IC0+XG4gICAgICApKEByb3V0ZXIpXG5cbiAgICAgIHRyaWdnZXJTcHkgPSBAc2lub24uc3B5KG1hbmFnZXIsICd0cmlnZ2VyJykud2l0aEFyZ3MgJ3Bvc3QtbG9hZCdcbiAgICAgIGNhbGxiYWNrU3B5ID0gQHNpbm9uLnNweSBtYW5hZ2VyLCAndGVzdCdcblxuICAgICAgbWFuYWdlci5faGFuZGxlTG9hZENhbGxiYWNrKCd0ZXN0U3RhdGUnLCB7bG9hZE1ldGhvZDogJ3Rlc3QnfSlcblxuICAgICAgZXhwZWN0KHRyaWdnZXJTcHkpLnRvLmhhdmUuYmVlbi5jYWxsZWRBZnRlciBjYWxsYmFja1NweVxuXG4gIGRlc2NyaWJlICdfaGFuZGxlVHJhbnNpdGlvbkNhbGxiYWNrKCknLCAtPlxuICAgIGl0ICdzaG91bGQgdHJpZ2dlciBnZW5lcmljIGFuZCBzcGVjaWZpYyBwcmUtZXZlbnRzIGluIHRoYXQgb3JkZXInLCAtPlxuICAgICAgbWFuYWdlciA9IG5ldyAoQmFja2JvbmUuTWFuYWdlci5leHRlbmRcbiAgICAgICAgdGVzdDogLT5cbiAgICAgICkoQHJvdXRlcilcblxuICAgICAgdHJpZ2dlclNweSA9IEBzaW5vbi5zcHkobWFuYWdlciwgJ3RyaWdnZXInKVxuICAgICAgdHJpZ2dlclNweS53aXRoQXJncyAncHJlLXRyYW5zaXRpb24nXG4gICAgICB0cmlnZ2VyU3B5LndpdGhBcmdzICdwcmUtdHJhbnNpdGlvbjp0ZXN0U3RhdGUnXG5cbiAgICAgIG1hbmFnZXIuX2hhbmRsZVRyYW5zaXRpb25DYWxsYmFjaygndGVzdFN0YXRlJywge3RyYW5zaXRpb25NZXRob2Q6ICd0ZXN0J30pXG5cbiAgICAgIGV4cGVjdCh0cmlnZ2VyU3B5LndpdGhBcmdzICdwcmUtdHJhbnNpdGlvbjp0ZXN0U3RhdGUnKS50by5oYXZlLmJlZW4uY2FsbGVkQWZ0ZXIgdHJpZ2dlclNweS53aXRoQXJncyAncHJlLXRyYW5zaXRpb24nXG5cbiAgICBpdCAnc2hvdWxkIHRyaWdnZXIgcHJlLWV2ZW50IGJlZm9yZSBjYWxsYmFjaycsIC0+XG4gICAgICBtYW5hZ2VyID0gbmV3IChCYWNrYm9uZS5NYW5hZ2VyLmV4dGVuZFxuICAgICAgICB0ZXN0OiAtPlxuICAgICAgKShAcm91dGVyKVxuXG4gICAgICB0cmlnZ2VyU3B5ID0gQHNpbm9uLnNweShtYW5hZ2VyLCAndHJpZ2dlcicpLndpdGhBcmdzICdwcmUtdHJhbnNpdGlvbidcbiAgICAgIGNhbGxiYWNrU3B5ID0gQHNpbm9uLnNweSBtYW5hZ2VyLCAndGVzdCdcblxuICAgICAgbWFuYWdlci5faGFuZGxlVHJhbnNpdGlvbkNhbGxiYWNrKCd0ZXN0U3RhdGUnLCB7dHJhbnNpdGlvbk1ldGhvZDogJ3Rlc3QnfSlcblxuICAgICAgZXhwZWN0KHRyaWdnZXJTcHkpLnRvLmhhdmUuYmVlbi5jYWxsZWRCZWZvcmUgY2FsbGJhY2tTcHlcblxuICAgIGl0ICdzaG91bGQgdHJpZ2dlciBzcGVjaWZpYyBhbmQgZ2VuZXJpYyBwb3N0LWV2ZW50cyBpbiB0aGF0IG9yZGVyJywgLT5cbiAgICAgIG1hbmFnZXIgPSBuZXcgKEJhY2tib25lLk1hbmFnZXIuZXh0ZW5kXG4gICAgICAgIHRlc3Q6IC0+XG4gICAgICApKEByb3V0ZXIpXG5cbiAgICAgIHRyaWdnZXJTcHkgPSBAc2lub24uc3B5KG1hbmFnZXIsICd0cmlnZ2VyJylcbiAgICAgIHRyaWdnZXJTcHkud2l0aEFyZ3MgJ3Bvc3QtdHJhbnNpdGlvbidcbiAgICAgIHRyaWdnZXJTcHkud2l0aEFyZ3MgJ3Bvc3QtdHJhbnNpdGlvbjp0ZXN0U3RhdGUnXG5cbiAgICAgIG1hbmFnZXIuX2hhbmRsZVRyYW5zaXRpb25DYWxsYmFjaygndGVzdFN0YXRlJywge3RyYW5zaXRpb25NZXRob2Q6ICd0ZXN0J30pXG5cbiAgICAgIGV4cGVjdCh0cmlnZ2VyU3B5LndpdGhBcmdzICdwb3N0LXRyYW5zaXRpb246dGVzdFN0YXRlJykudG8uaGF2ZS5iZWVuLmNhbGxlZEJlZm9yZSB0cmlnZ2VyU3B5LndpdGhBcmdzICdwb3N0LXRyYW5zaXRpb24nXG5cbiAgICBpdCAnc2hvdWxkIHRyaWdnZXIgcG9zdC1ldmVudCBhZnRlciBjYWxsYmFjaycsIC0+XG4gICAgICBtYW5hZ2VyID0gbmV3IChCYWNrYm9uZS5NYW5hZ2VyLmV4dGVuZFxuICAgICAgICB0ZXN0OiAtPlxuICAgICAgKShAcm91dGVyKVxuXG4gICAgICB0cmlnZ2VyU3B5ID0gQHNpbm9uLnNweShtYW5hZ2VyLCAndHJpZ2dlcicpLndpdGhBcmdzICdwb3N0LXRyYW5zaXRpb24nXG4gICAgICBjYWxsYmFja1NweSA9IEBzaW5vbi5zcHkgbWFuYWdlciwgJ3Rlc3QnXG5cbiAgICAgIG1hbmFnZXIuX2hhbmRsZVRyYW5zaXRpb25DYWxsYmFjaygndGVzdFN0YXRlJywge3RyYW5zaXRpb25NZXRob2Q6ICd0ZXN0J30pXG5cbiAgICAgIGV4cGVjdCh0cmlnZ2VyU3B5KS50by5oYXZlLmJlZW4uY2FsbGVkQWZ0ZXIgY2FsbGJhY2tTcHlcblxuICAgIGNvbnRleHQgJ3N0YXRlIHVybCBkZWZpbmVkJywgLT5cbiAgICAgIGJlZm9yZSAtPlxuICAgICAgICBAbWFuYWdlclByb3RvID0gQmFja2JvbmUuTWFuYWdlci5leHRlbmRcbiAgICAgICAgICBzdGF0ZXM6XG4gICAgICAgICAgICB0ZXN0OlxuICAgICAgICAgICAgICB1cmw6ICdhLzppZF8xL2IvOmlkXzIvYy86aWRfMy9kLzppZF80J1xuICAgICAgICAgICAgICB0cmFuc2l0aW9uTWV0aG9kOiAndGVzdCdcbiAgICAgICAgICB0ZXN0OiAtPlxuXG4gICAgICBjb250ZXh0ICdhcmdzIGlzIEFycmF5JywgLT5cbiAgICAgICAgaXQgJ3Nob3VsZCBtYWludGFpbiBvcmRlciBmcm9tIGFycmF5IGludG8gdXJsJywgLT5cbiAgICAgICAgICBtYW5hZ2VyID0gbmV3IEBtYW5hZ2VyUHJvdG8gQHJvdXRlclxuXG4gICAgICAgICAgbmF2aWdhdGVTdHViID0gQHNpbm9uLnN0dWIgQHJvdXRlciwgJ25hdmlnYXRlJ1xuXG4gICAgICAgICAgbWFuYWdlci5faGFuZGxlVHJhbnNpdGlvbkNhbGxiYWNrICd0ZXN0JywgbWFuYWdlci5zdGF0ZXMudGVzdCwgWzEsMiwzLDRdXG5cbiAgICAgICAgICBleHBlY3QobmF2aWdhdGVTdHViKS50by5oYXZlLmJlZW4uY2FsbGVkV2l0aCAnYS8xL2IvMi9jLzMvZC80J1xuXG4gICAgICAgIGl0ICdzaG91bGQgbm90IGZpcmUgbmF2aWdhdGUgaWYgaGlzdG9yeUhhc1VwZGF0ZWQnLCAtPlxuICAgICAgICAgIG1hbmFnZXIgPSBuZXcgQG1hbmFnZXJQcm90byBAcm91dGVyXG5cbiAgICAgICAgICBuYXZpZ2F0ZVN0dWIgPSBAc2lub24uc3R1YiBAcm91dGVyLCAnbmF2aWdhdGUnXG5cbiAgICAgICAgICBtYW5hZ2VyLl9oYW5kbGVUcmFuc2l0aW9uQ2FsbGJhY2sgJ3Rlc3QnLCBtYW5hZ2VyLnN0YXRlcy50ZXN0LCBbMSwyLDMsNF0sIGhpc3RvcnlIYXNVcGRhdGVkID0gdHJ1ZVxuXG4gICAgICAgICAgZXhwZWN0KG5hdmlnYXRlU3R1YikudG8ubm90LmhhdmUuYmVlbi5jYWxsZWRcblxuICAgICAgICBpdCAnc2hvdWxkIGhhbmQgY29ycmVjdCBhcmdzIHRvIGNhbGxiYWNrIGluIG9yZGVyLCBtaW1pY2tpbmcgcm91dGVyIHBhcmFtcyBjYWxsYmFjaycsIC0+XG4gICAgICAgICAgbWFuYWdlciA9IG5ldyBAbWFuYWdlclByb3RvIEByb3V0ZXJcblxuICAgICAgICAgIGNhbGxiYWNrU3B5ID0gQHNpbm9uLnNweSBtYW5hZ2VyLCAndGVzdCdcblxuICAgICAgICAgIG1hbmFnZXIuX2hhbmRsZVRyYW5zaXRpb25DYWxsYmFjayAndGVzdCcsIG1hbmFnZXIuc3RhdGVzLnRlc3QsIFsxLDIsMyw0XVxuXG4gICAgICAgICAgZXhwZWN0KGNhbGxiYWNrU3B5KS50by5oYXZlLmJlZW4uY2FsbGVkV2l0aEV4YWN0bHkgJzEnLCAnMicsICczJywgJzQnLCBudWxsLCBzaW5vbi5tYXRjaC5vYmplY3RcblxuICAgICAgY29udGV4dCAnYXJncyBpcyBPYmplY3QnLCAtPlxuICAgICAgICBiZWZvcmUgLT5cbiAgICAgICAgICBAYXJnT2JqID1cbiAgICAgICAgICAgIGlkXzI6IDJcbiAgICAgICAgICAgIGlkXzQ6IDRcbiAgICAgICAgICAgIGlkXzE6IDFcbiAgICAgICAgICAgIGlkXzM6IDNcblxuICAgICAgICBpdCAnc2hvdWxkIG1haW50YWluIG9yZGVyIGZyb20gYXJncyBpbiB1cmwnLCAtPlxuICAgICAgICAgIG1hbmFnZXIgPSBuZXcgQG1hbmFnZXJQcm90byBAcm91dGVyXG5cbiAgICAgICAgICBuYXZpZ2F0ZVN0dWIgPSBAc2lub24uc3R1YiBAcm91dGVyLCAnbmF2aWdhdGUnXG5cbiAgICAgICAgICBtYW5hZ2VyLl9oYW5kbGVUcmFuc2l0aW9uQ2FsbGJhY2sgJ3Rlc3QnLCBtYW5hZ2VyLnN0YXRlcy50ZXN0LCBAYXJnT2JqXG5cbiAgICAgICAgICBleHBlY3QobmF2aWdhdGVTdHViKS50by5oYXZlLmJlZW4uY2FsbGVkV2l0aCAnYS8xL2IvMi9jLzMvZC80J1xuXG4gICAgICAgIGl0ICdzaG91bGQgbWFpbnRhaW4gb3JkZXIgZnJvbSBhcmdzIGluIHVybCcsIC0+XG4gICAgICAgICAgbWFuYWdlciA9IG5ldyBAbWFuYWdlclByb3RvIEByb3V0ZXJcblxuICAgICAgICAgIG5hdmlnYXRlU3R1YiA9IEBzaW5vbi5zdHViIEByb3V0ZXIsICduYXZpZ2F0ZSdcblxuICAgICAgICAgIG1hbmFnZXIuX2hhbmRsZVRyYW5zaXRpb25DYWxsYmFjayAndGVzdCcsIG1hbmFnZXIuc3RhdGVzLnRlc3QsIEBhcmdPYmosIGhpc3RvcnlIYXNVcGRhdGVkID0gdHJ1ZVxuXG4gICAgICAgICAgZXhwZWN0KG5hdmlnYXRlU3R1YikudG8ubm90LmhhdmUuYmVlbi5jYWxsZWRcblxuICAgICAgICBpdCAnc2hvdWxkIGhhbmQgY29ycmVjdCBhcmdzIHRvIGNhbGxiYWNrIGluIG9yZGVyJywgLT5cbiAgICAgICAgICBtYW5hZ2VyID0gbmV3IEBtYW5hZ2VyUHJvdG8gQHJvdXRlclxuXG4gICAgICAgICAgY2FsbGJhY2tTcHkgPSBAc2lub24uc3B5IG1hbmFnZXIsICd0ZXN0J1xuXG4gICAgICAgICAgbWFuYWdlci5faGFuZGxlVHJhbnNpdGlvbkNhbGxiYWNrICd0ZXN0JywgbWFuYWdlci5zdGF0ZXMudGVzdCwgQGFyZ09ialxuXG4gICAgICAgICAgZXhwZWN0KGNhbGxiYWNrU3B5KS50by5oYXZlLmJlZW4uY2FsbGVkV2l0aCAnMScsICcyJywgJzMnLCAnNCcsIG51bGwsIHNpbm9uLm1hdGNoLm9iamVjdFxuXG4gIGRlc2NyaWJlICdfcGFyc2VFdmVudHMoKScsIC0+XG4gICAgaXQgJ3Nob3VsZCBiaW5kIHRvIGtleSBhcyBldmVudCwgdmFsdWUgYXMgY2FsbGJhY2snLCAtPlxuICAgICAgY2FjaGVkT24gPSBCYWNrYm9uZS5FdmVudHMub25cbiAgICAgIG9uU3R1YiA9IEBzaW5vbi5zdHViIEJhY2tib25lLkV2ZW50cywgJ29uJywgLT5cbiAgICAgICAgY2FjaGVkT24uYXBwbHkgQCwgYXJndW1lbnRzXG5cbiAgICAgIG1hbmFnZXIgPSBuZXcgKEJhY2tib25lLk1hbmFnZXIuZXh0ZW5kXG4gICAgICAgIGV2ZW50czpcbiAgICAgICAgICB0ZXN0RXZlbnQ6ICd0ZXN0RnVuYydcbiAgICAgICAgdGVzdEZ1bmM6IC0+XG4gICAgICApKEByb3V0ZXIpXG5cbiAgICAgIGV4cGVjdChvblN0dWIpLnRvLmhhdmUuYmVlbi5jYWxsZWRXaXRoICd0ZXN0RXZlbnQnLCBtYW5hZ2VyLnRlc3RGdW5jXG4iXX0=